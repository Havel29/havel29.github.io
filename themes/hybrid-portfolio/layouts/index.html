{{ define "main" }}
<!-- Matrix Rain Background -->
<canvas id="matrix-canvas"></canvas>

<section class="hero-modern">
    <!-- Animated mathematical particles -->
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    
    <!-- ASCII Art Header -->
    <div class="ascii-art fade-in">
        <pre class="ascii-logo">
 _    _                 _ ___   ___  
| |  | |               | |__ \ / _ \ 
| |__| | __ ___   _____| |  ) | (_) |
|  __  |/ _` \ \ / / _ \ | / / \__, |
| |  | | (_| |\ V /  __/ |/ /_   / / 
|_|  |_|\__,_| \_/ \___|_|____|/_/  
        </pre>
    </div>
    
    <div class="hero-container fade-in-up">
        <!-- Terminal-Style Command Section -->
        <div class="terminal-window">
            <div class="terminal-header">
                <span class="terminal-button red"></span>
                <span class="terminal-button yellow"></span>
                <span class="terminal-button green"></span>
                <span class="terminal-title">havel29@portfolio:~$</span>
            </div>
            <div class="terminal-body">
                <div class="terminal-line">
                    <span class="terminal-prompt">$</span>
                    <span class="terminal-command">whoami</span>
                </div>
                <div class="terminal-output">Havel29 - Computer Science Student @ UNIBZ</div>
                
                <div class="terminal-line">
                    <span class="terminal-prompt">$</span>
                    <span class="terminal-command">cat skills.txt</span>
                </div>
                <div class="terminal-output terminal-skills">
                    <span class="skill-tag">Machine Learning</span>
                    <span class="skill-tag">Cybersecurity</span>
                    <span class="skill-tag">CTF</span>
                    <span class="skill-tag">Research</span>
                </div>
                
                <div class="terminal-line">
                    <span class="terminal-prompt">$</span>
                    <span class="terminal-command">./explore_portfolio.sh</span>
                </div>
                <div class="terminal-output">
                    <span class="loading-dots">Loading projects<span class="dots"></span></span>
                </div>
            </div>
        </div>
        
        <div class="hero-avatar pulse-glow">
            <i class="fas fa-terminal terminal-blink"></i>
        </div>
        <h1 class="hero-heading"><span id="typewriter-text"></span><span class="typewriter-cursor">|</span></h1>
        <p class="hero-subheading slide-in delay-1">CTF Player • Student • CS Enthusiast</p>
        <p class="hero-text slide-in delay-1">{{ .Site.Params.heroDescription | default "Under construction." }}</p>
        <div class="hero-buttons slide-in delay-2">
            <a href="/about/" class="btn-primary btn-glow">
                <span class="btn-prefix">sudo</span> <i class="fas fa-user"></i> <span>view_about</span>
            </a>
            <a href="/writeups/" class="btn-outline btn-shine">
                <span class="btn-prefix">./</span><i class="fas fa-lock"></i> <span>run_writeups.sh</span>
            </a>
        </div>
    </div>
</section>
<section class="stats-section">
    <div class="stats-container">
        <div class="stat-box stat-animate" data-count="{{ len (where .Site.RegularPages "Section" "writeups") }}">
            <div class="stat-icon"><i class="fas fa-file-code"></i></div>
            <div class="stat-number counter">{{ len (where .Site.RegularPages "Section" "writeups") }}</div>
            <div class="stat-label">Writeups</div>
        </div>
        <div class="stat-box stat-animate" data-count="{{ len (where .Site.RegularPages "Section" "projects") }}">
            <div class="stat-icon"><i class="fas fa-project-diagram"></i></div>
            <div class="stat-number counter">{{ len (where .Site.RegularPages "Section" "projects") }}</div>
            <div class="stat-label">Projects</div>
        </div>
        <div class="stat-box stat-animate">
            <div class="stat-icon"><i class="fas fa-coffee"></i></div>
            <div class="stat-number stat-number-limit">
                $\lim_{x \to 0} \frac{1}{x}$
            </div>
            <div class="stat-label">Coffee Cups</div>
        </div>
    </div>
</section>
<section class="content-section">
    <div class="container">
        <h2 class="section-title fade-in-up">Featured Projects</h2>
        <div class="content-grid">
            {{ $projects := (where .Site.RegularPages "Section" "projects") }}
            {{ range first 3 $projects }}
            <article class="content-card card-hover">
                {{ if .Params.image }}<div class="card-image"><img src="{{ .Params.image }}" alt="{{ .Title }}"></div>{{ end }}
                <div class="card-content">
                    <div class="card-icon"><i class="fas fa-brain"></i></div>
                    <h3 class="card-title">{{ .Title }}</h3>
                    <p class="card-excerpt">{{ .Summary }}</p>
                    <a href="{{ .Permalink }}" class="card-link">View Project <i class="fas fa-arrow-right"></i></a>
                </div>
            </article>
            {{ end }}
        </div>
        <div class="section-cta-center">
            <a href="/projects" class="btn-outline btn-shine">View All Projects</a>
        </div>
    </div>
</section>
<section class="content-section alt">
    <div class="content-container">
        <div class="section-title fade-in-up">
            <h2><i class="fas fa-lock terminal-blink"></i> CTF Writeups</h2>
            <p>Security research and CTF challenge writeups</p>
        </div>
        <div class="card-grid">
            {{ $posts := where .Site.RegularPages "Section" "writeups" }}
            {{ if gt (len $posts) 0 }}
                {{ range first 3 $posts }}
                <a href="{{ .Permalink }}" class="content-card card-hover" style="text-decoration: none; color: inherit; display: block;">
                    <div class="card-meta">
                        <span class="badge blue">{{ .Date.Format "Jan '06" }}</span>
                        {{ if .Params.tags }}{{ range first 2 .Params.tags }}<span class="tag">{{ . }}</span>{{ end }}{{ end }}
                    </div>
                    <h3 style="white-space: normal; overflow: visible; text-overflow: clip;">{{ .Title }}</h3>
                    <p>{{ if .Description }}{{ .Description }}{{ else }}{{ .Summary }}{{ end }}</p>
                    <div class="card-arrow"><i class="fas fa-arrow-right"></i></div>
                </a>
                {{ end }}
            {{ else }}
                <div class="empty-state">
                    <div class="empty-state-icon">
                        <i class="fas fa-file-code"></i>
                        <div class="icon-particles">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                    </div>
                    <h3 class="empty-state-title">No Writeups Yet</h3>
                    <p class="empty-state-text">Security research and CTF writeups will be published here soon. Stay tuned for detailed cryptographic challenges and vulnerability analysis.</p>
                    <div class="empty-state-badge">
                        <i class="fas fa-clock"></i> Coming Soon
                    </div>
                </div>
            {{ end }}
        </div>
        {{ if gt (len $posts) 0 }}<div class="section-link"><a href="/writeups/">All Writeups <i class="fas fa-arrow-right"></i></a></div>{{ end }}
    </div>
</section>
<section class="cta-section">
    <div class="cta-container fade-in-up">
        <h2>Interested in Collaboration?</h2>
        <p>Reach out to me.</p>
        <a href="/about/" class="btn-primary large btn-glow"><i class="fas fa-envelope"></i> Get in Touch</a>
    </div>
</section>
{{ end }}
